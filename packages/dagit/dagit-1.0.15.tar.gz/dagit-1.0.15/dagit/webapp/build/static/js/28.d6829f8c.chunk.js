"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[28],{36753:function(e,n,i){i.d(n,{b:function(){return T},I:function(){return C}});var t,r=i(99500),s=i(59019),o=i(19065),l=i(922),d=i(65880),c=i(3159),a=i(7838),h=i(85899),u=i(32030),x=i(325),p=i(74549),m=i(19102),j=i(15219),g=i(85548),f=i(86476),y=i(9091),w=i(55752),v=i(9315),S=i(86875),N=i(3580),q=i(16279),b=i(76336),E=i(25582),_=i(32289),k="1.5fr 1fr 180px 96px 80px",T=function(e){var n=e.name,i=e.isJob,t=e.repoAddress,r=e.start,l=e.height,c=(0,d.t)($,{fetchPolicy:"cache-and-network",variables:{selector:(0,b._T)(t,n)}}),w=(0,o.Z)(c,2),v=w[0],S=w[1];(0,q.v5)(v),(0,m.C4)(S,m.dT);var k=S.data,T=x.useMemo((function(){if("Pipeline"===(null===k||void 0===k?void 0:k.pipelineOrError.__typename)){var e=k.pipelineOrError;return{schedules:e.schedules,sensors:e.sensors}}return{schedules:[],sensors:[]}}),[k]),C=T.schedules,O=T.sensors,G=x.useMemo((function(){if("Pipeline"===(null===k||void 0===k?void 0:k.pipelineOrError.__typename)){var e=k.pipelineOrError.runs;if(e.length)return(0,s.Z)(e)}return[]}),[k]);return(0,_.jsx)(N.X2,{$height:l,$start:r,children:(0,_.jsxs)(R,{border:{side:"bottom",width:1,color:a.w.KeylineGray},children:[(0,_.jsxs)(N.E5,{children:[(0,_.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,_.jsx)(p.rU,{to:(0,E.$U)(t,"/jobs/".concat(n)),children:(0,_.jsx)(h.g,{text:n})})}),(0,_.jsx)(q.HB,{children:"Pipeline"===(null===k||void 0===k?void 0:k.pipelineOrError.__typename)?k.pipelineOrError.description:""})]}),(0,_.jsx)(N.E5,{children:C.length||O.length?(0,_.jsx)(u.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,_.jsx)(z,{children:(0,_.jsx)(f.I,{schedules:C,sensors:O,repoAddress:t})})}):(0,_.jsx)(q.mq,{queryResult:S})}),(0,_.jsx)(N.E5,{children:G.length?(0,_.jsx)(g.Z,{run:G[0],showButton:!1,showHover:!0,showSummary:!1,name:n}):(0,_.jsx)(q.mq,{queryResult:S})}),(0,_.jsx)(N.E5,{children:G.length?(0,_.jsx)(u.x,{padding:{top:4},children:(0,_.jsx)(y.JH,{jobName:n,runs:(0,s.Z)(G).reverse(),fade:!0})}):(0,_.jsx)(q.mq,{queryResult:S})}),(0,_.jsx)(N.E5,{children:(0,_.jsx)(u.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,_.jsx)(j.c,{job:{isJob:i,name:n,runs:G},repoAddress:t})})})]})})},C=function(){return(0,_.jsxs)(u.x,{border:{side:"horizontal",width:1,color:a.w.KeylineGray},style:{display:"grid",gridTemplateColumns:k,height:"32px",fontSize:"12px",color:a.w.Gray600},children:[(0,_.jsx)(N.qN,{children:"Name"}),(0,_.jsx)(N.qN,{children:"Schedules/sensors"}),(0,_.jsx)(N.qN,{children:"Latest run"}),(0,_.jsx)(N.qN,{children:"Run history"}),(0,_.jsx)(N.qN,{})]})},R=(0,l.ZP)(u.x).withConfig({displayName:"VirtualizedJobRow__RowGrid",componentId:"otbkv8-0"})(["display:grid;grid-template-columns:",";height:100%;"],k),z=l.ZP.div.withConfig({displayName:"VirtualizedJobRow__ScheduleSensorTagContainer",componentId:"otbkv8-1"})(["width:100%;> .bp3-popover2-target{width:100%;}"]),$=(0,c.Ps)(t||(t=(0,r.Z)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),w.$X,v.J,S.U)},31834:function(e,n,i){i.d(n,{i:function(){return U},o:function(){return Z}});var t,r=i(99500),s=i(19065),o=i(922),l=i(65880),d=i(3159),c=i(7838),a=i(32030),h=i(85899),u=i(12745),x=i(11831),p=i(762),m=i(8412),j=i(75453),g=i(27293),f=i(325),y=i(74549),w=i(19102),v=i(85548),S=i(62997),N=i(62e3),q=i(55752),b=i(9315),E=i(98191),_=i(68156),k=i(36243),T=i(5484),C=i(90933),R=i(3580),z=i(16279),$=i(76336),O=i(25582),G=i(32289),P="76px 1fr 1fr 148px 180px 80px",U=function(e){var n=e.name,i=e.repoAddress,t=e.start,r=e.height,o=(0,$.Ux)(i),d=(0,l.t)(L,{fetchPolicy:"cache-and-network",variables:{selector:{repositoryName:i.name,repositoryLocationName:i.location,scheduleName:n}},notifyOnNetworkStatusChange:!0}),q=(0,s.Z)(d,2),P=q[0],U=q[1];(0,z.v5)(P),(0,w.C4)(U,w.dT);var Z=U.data,F=f.useMemo((function(){return"Schedule"!==(null===Z||void 0===Z?void 0:Z.scheduleOrError.__typename)?null:Z.scheduleOrError}),[Z]),A=!(!F||!(0,$.E8)(o,F.pipelineName)),K=F?(0,k.A)(F.cronSchedule,F.executionTimezone||"UTC"):"";return(0,G.jsx)(R.X2,{$height:r,$start:t,children:(0,G.jsxs)(I,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,G.jsx)(R.E5,{children:F?(0,G.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,G.jsx)(b.M,{repoAddress:i,schedule:F},n),(0,E.l)(F.scheduleState.status,F.scheduleState.runningCount)]}):null}),(0,G.jsx)(R.E5,{children:(0,G.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,G.jsx)("span",{style:{fontWeight:500},children:(0,G.jsx)(y.rU,{to:(0,O.$U)(i,"/schedules/".concat(n)),children:(0,G.jsx)(h.g,{text:n})})}),F?(0,G.jsx)(u.YS,{children:(0,G.jsx)(N.h,{showIcon:!0,size:"small",pipelineName:F.pipelineName,pipelineHrefContext:i,isJob:A})}):null]})}),(0,G.jsx)(R.E5,{children:F?(0,G.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,G.jsx)(J,{style:{maxWidth:"100%"},children:(0,G.jsx)(x.u,{position:"top-left",content:F.cronSchedule,display:"block",children:(0,G.jsx)("div",{style:{color:c.w.Dark,overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},title:K,children:K})})}),F.scheduleState.nextTick&&F.scheduleState.status===T.yn.RUNNING?(0,G.jsx)(u.YS,{children:(0,G.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,G.jsx)(_.v,{timestamp:F.scheduleState.nextTick.timestamp,timezone:F.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,G.jsx)(z.mq,{queryResult:U})}),(0,G.jsx)(R.E5,{children:null!==F&&void 0!==F&&F.scheduleState.ticks.length?(0,G.jsx)("div",{children:(0,G.jsx)(S.TW,{tick:F.scheduleState.ticks[0],instigationType:T._5.SCHEDULE})}):(0,G.jsx)(z.mq,{queryResult:U})}),(0,G.jsx)(R.E5,{children:null!==F&&void 0!==F&&F.scheduleState&&(null===F||void 0===F?void 0:F.scheduleState.runs.length)>0?(0,G.jsx)(v.Z,{run:F.scheduleState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,G.jsx)(z.mq,{queryResult:U})}),(0,G.jsx)(R.E5,{children:null!==F&&void 0!==F&&F.partitionSet?(0,G.jsx)(p.J,{content:(0,G.jsxs)(m.v2,{children:[(0,G.jsx)(C.U,{text:"View partition history",icon:"dynamic_feed",target:"_blank",to:(0,O.$U)(i,"/".concat(A?"jobs":"pipelines","/").concat(F.pipelineName,"/partitions"))}),(0,G.jsx)(C.U,{text:"Launch partition backfill",icon:"add_circle",target:"_blank",to:(0,O.$U)(i,"/".concat(A?"jobs":"pipelines","/").concat(F.pipelineName,"/partitions"))})]}),position:"bottom-left",children:(0,G.jsx)(j.zx,{icon:(0,G.jsx)(g.JO,{name:"expand_more"})})}):null})]})})},Z=function(){return(0,G.jsxs)(a.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:P,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,G.jsx)(R.qN,{}),(0,G.jsx)(R.qN,{children:"Schedule name"}),(0,G.jsx)(R.qN,{children:"Schedule"}),(0,G.jsx)(R.qN,{children:"Last tick"}),(0,G.jsx)(R.qN,{children:"Last run"}),(0,G.jsx)(R.qN,{})]})},I=(0,o.ZP)(a.x).withConfig({displayName:"VirtualizedScheduleRow__RowGrid",componentId:"sc-9ps3vz-0"})(["display:grid;grid-template-columns:",";height:100%;"],P),J=o.ZP.div.withConfig({displayName:"VirtualizedScheduleRow__ScheduleStringContainer",componentId:"sc-9ps3vz-1"})(["max-width:100%;.bp3-popover2-target{max-width:100%;:focus{outline:none;}}"]),L=(0,d.Ps)(t||(t=(0,r.Z)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),b.J,S.dY,q.$X)},19377:function(e,n,i){i.d(n,{R:function(){return C},K:function(){return R}});var t,r=i(99500),s=i(19065),o=i(922),l=i(65880),d=i(3159),c=i(7838),a=i(32030),h=i(85899),u=i(12745),x=i(325),p=i(74549),m=i(19102),j=i(86655),g=i(85548),f=i(62997),y=i(62e3),w=i(55752),v=i(26304),S=i(86875),N=i(5484),q=i(3580),b=i(16279),E=i(76336),_=i(25582),k=i(32289),T="76px 1.5fr 1fr 120px 148px 180px",C=function(e){var n=e.name,i=e.repoAddress,t=e.start,r=e.height,o=(0,E.Ux)(i),d=(0,l.t)($,{fetchPolicy:"cache-and-network",variables:{selector:{repositoryName:i.name,repositoryLocationName:i.location,sensorName:n}}}),w=(0,s.Z)(d,2),T=w[0],C=w[1];(0,b.v5)(T),(0,m.C4)(C,m.dT);var R=C.data,O=x.useMemo((function(){return"Sensor"!==(null===R||void 0===R?void 0:R.sensorOrError.__typename)?null:R.sensorOrError}),[R]);return(0,k.jsx)(q.X2,{$height:r,$start:t,children:(0,k.jsxs)(z,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,k.jsx)(q.E5,{children:O?(0,k.jsx)(a.x,{flex:{direction:"column",gap:4},children:(0,k.jsx)(S.c,{repoAddress:i,sensor:O},n)}):null}),(0,k.jsx)(q.E5,{children:(0,k.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,k.jsx)("span",{style:{fontWeight:500},children:(0,k.jsx)(p.rU,{to:(0,_.$U)(i,"/sensors/".concat(n)),children:(0,k.jsx)(h.g,{text:n})})}),(0,k.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,k.jsx)(u.YS,{style:{color:c.w.Gray500,whiteSpace:"nowrap"},children:null===O||void 0===O?void 0:O.description})})]})}),(0,k.jsx)(q.E5,{children:(0,k.jsxs)(a.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[null!==O&&void 0!==O&&O.targets&&O.targets.length?(0,k.jsx)(a.x,{flex:{direction:"column",gap:2},children:O.targets.map((function(e){return(0,k.jsx)(y.h,{showIcon:!0,size:"small",pipelineName:e.pipelineName,pipelineHrefContext:i,isJob:!(!o||!(0,E.E8)(o,e.pipelineName))},e.pipelineName)}))}):null,null!==O&&void 0!==O&&O.metadata.assetKeys&&O.metadata.assetKeys.length?(0,k.jsx)(a.x,{flex:{direction:"column",gap:2},children:O.metadata.assetKeys.map((function(e){return(0,k.jsx)(j.R,{path:e.path,icon:"asset"},e.path.join("/"))}))}):null]})}),(0,k.jsx)(q.E5,{children:O?(0,k.jsx)("div",{style:{color:c.w.Dark},children:(0,v.F)(O.minIntervalSeconds)}):(0,k.jsx)(b.mq,{queryResult:C})}),(0,k.jsx)(q.E5,{children:null!==O&&void 0!==O&&O.sensorState.ticks.length?(0,k.jsx)("div",{children:(0,k.jsx)(f.TW,{tick:O.sensorState.ticks[0],instigationType:N._5.SENSOR})}):(0,k.jsx)(b.mq,{queryResult:C})}),(0,k.jsx)(q.E5,{children:null!==O&&void 0!==O&&O.sensorState&&(null===O||void 0===O?void 0:O.sensorState.runs.length)>0?(0,k.jsx)(g.Z,{run:O.sensorState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,k.jsx)(b.mq,{queryResult:C})})]})})},R=function(){return(0,k.jsxs)(a.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:T,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,k.jsx)(q.qN,{}),(0,k.jsx)(q.qN,{children:"Name"}),(0,k.jsx)(q.qN,{children:"Job / Asset"}),(0,k.jsx)(q.qN,{children:"Frequency"}),(0,k.jsx)(q.qN,{children:"Last tick"}),(0,k.jsx)(q.qN,{children:"Last run"})]})},z=(0,o.ZP)(a.x).withConfig({displayName:"VirtualizedSensorRow__RowGrid",componentId:"sc-1sgrm9e-0"})(["display:grid;grid-template-columns:",";height:100%;"],T),$=(0,d.Ps)(t||(t=(0,r.Z)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),S.U,f.dY,w.$X)},16279:function(e,n,i){i.d(n,{vG:function(){return a},mq:function(){return h},HB:function(){return u},v5:function(){return p}});var t=i(922),r=i(7838),s=i(12745),o=i(325),l=i(35815),d=i(3580),c=i(32289),a=function(e){var n=e.repoAddress,i=e.height,t=e.start,r=e.expanded,s=e.onToggle,o=e.onToggleAll,a=e.showLocation,h=e.rightElement;return(0,c.jsx)(d.X2,{$height:i,$start:t,children:(0,c.jsx)(l.L,{repoName:n.name,repoLocation:n.location,expanded:r,onClick:function(e){return e.getModifierState("Shift")?o(!r):s(n)},showLocation:a,rightElement:h})})},h=function(e){var n=e.queryResult,i=n.called,t=n.loading,s=n.data;return(0,c.jsx)("div",{style:{color:r.w.Gray500},children:!i||t&&!s?"Loading":"None"})},u=function(e){var n=e.children;return(0,c.jsx)(x,{children:(0,c.jsx)(s.YS,{children:n})})},x=t.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],s.YS,r.w.Gray500),p=function(e){o.useEffect((function(){var n=setTimeout((function(){e()}),100);return function(){return clearTimeout(n)}}),[e])}}}]);
//# sourceMappingURL=28.d6829f8c.chunk.js.map