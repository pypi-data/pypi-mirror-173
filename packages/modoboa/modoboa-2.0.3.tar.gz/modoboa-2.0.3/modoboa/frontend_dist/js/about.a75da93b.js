"use strict";(self["webpackChunkModoboa"]=self["webpackChunkModoboa"]||[]).push([[443],{2579:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var s=n(4562),r=n(3486),a=n(266),i=n(5495),o=n(1713),l=n(7808),c=function(){var t=this,e=t._self._c;return e(o.Z,{staticStyle:{height:"100%",margin:"0 auto"}},[e(a.Z,{staticClass:"primary",staticStyle:{height:"100%"},attrs:{cols:"0",sm:"6"}},[e(i.Z,{staticClass:"mt-10 ml-8",attrs:{src:n(5238),"max-width":"300"}})],1),e(a.Z,{staticClass:"d-flex flex-column justify-center pa-10",attrs:{cols:"12",sm:"6"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authenticate.apply(null,arguments)}}},[e("span",{staticClass:"primary--text mb-6 text-h4"},[e("translate",[t._v("Identification")])],1),e("validation-observer",{ref:"observer"},[e("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:n}){return[e("label",{staticClass:"m-label"},[e("translate",[t._v("Username")])],1),e(l.Z,{attrs:{"error-messages":n,outlined:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})]}}])}),e("validation-provider",{attrs:{vid:"password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function({errors:n}){return[e("label",{staticClass:"m-label"},[e("translate",[t._v("Password")])],1),e(l.Z,{attrs:{type:"password","error-messages":n,outlined:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})]}}])}),e("a",{staticClass:"float-right primary--text",attrs:{href:""}},[e("translate",[t._v("Forgot password?")])],1),e(r.Z,{attrs:{label:t._f("translate")("Remember me")},model:{value:t.rememberMe,callback:function(e){t.rememberMe=e},expression:"rememberMe"}})],1),e("div",{staticClass:"d-flex justify-center"},[e(s.Z,{staticClass:"flex-grow-1",attrs:{color:"primary",large:"",loading:t.loading},on:{click:t.authenticate}},[e("translate",[t._v("Connect")])],1)],1)],1)],1)},u=[],d=(n(7658),n(6808)),f=n.n(d),p=n(2201),h={requestToken(t){return p.Z.post("/token/",t)}},m={data(){return{loading:!1,rememberMe:!1,username:"",password:"",errors:{}}},methods:{async authenticate(){const t=await this.$refs.observer.validate();if(!t)return;const e={username:this.username,password:this.password};this.loading=!0,h.requestToken(e).then((t=>{f().set("token",t.data.access,{sameSite:"strict"}),f().set("refreshToken",t.data.refresh,{sameSite:"strict"}),this.$store.dispatch("auth/initialize").then((()=>{this.$router.push({name:"DomainList"})}))})).catch((t=>{this.loading=!1,401===t.response.status&&this.$refs.observer.setErrors({password:this.$gettext("Invalid username and/or password")})}))}}},g=m,y=n(1001),v=(0,y.Z)(g,c,u,!1,null,null,null),b=v.exports},3486:function(t,e,n){n.d(e,{Z:function(){return i}});n(7393);var s=n(2240),r=n(573),a=n(596),i=a.Z.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...r.Z.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick((()=>this.inputIndeterminate=t))},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s.Z,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},266:function(t,e,n){n(7658),n(1884);var s=n(144),r=n(1767),a=n(5352);const i=["sm","md","lg","xl"],o=(()=>i.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),l=(()=>i.reduce(((t,e)=>(t["offset"+(0,a.jC)(e)]={type:[String,Number],default:null},t)),{}))(),c=(()=>i.reduce(((t,e)=>(t["order"+(0,a.jC)(e)]={type:[String,Number],default:null},t)),{}))(),u={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(c)};function d(t,e,n){let s=t;if(null!=n&&!1!==n){if(e){const n=e.replace(t,"");s+=`-${n}`}return"col"!==t||""!==n&&!0!==n?(s+=`-${n}`,s.toLowerCase()):s.toLowerCase()}}const f=new Map;e["Z"]=s.ZP.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:n,children:s,parent:a}){let i="";for(const r in e)i+=String(e[r]);let o=f.get(i);if(!o){let t;for(t in o=[],u)u[t].forEach((n=>{const s=e[n],r=d(t,n,s);r&&o.push(r)}));const n=o.some((t=>t.startsWith("col-")));o.push({col:!n||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),f.set(i,o)}return t(e.tag,(0,r.ZP)(n,{class:o}),s)}})},1713:function(t,e,n){n(7658),n(1884);var s=n(144),r=n(1767),a=n(5352);const i=["sm","md","lg","xl"],o=["start","end","center"];function l(t,e){return i.reduce(((n,s)=>(n[t+(0,a.jC)(s)]=e(),n)),{})}const c=t=>[...o,"baseline","stretch"].includes(t),u=l("align",(()=>({type:String,default:null,validator:c}))),d=t=>[...o,"space-between","space-around"].includes(t),f=l("justify",(()=>({type:String,default:null,validator:d}))),p=t=>[...o,"space-between","space-around","stretch"].includes(t),h=l("alignContent",(()=>({type:String,default:null,validator:p}))),m={align:Object.keys(u),justify:Object.keys(f),alignContent:Object.keys(h)},g={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,n){let s=g[t];if(null!=n){if(e){const n=e.replace(t,"");s+=`-${n}`}return s+=`-${n}`,s.toLowerCase()}}const v=new Map;e["Z"]=s.ZP.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...f,alignContent:{type:String,default:null,validator:p},...h},render(t,{props:e,data:n,children:s}){let a="";for(const r in e)a+=String(e[r]);let i=v.get(a);if(!i){let t;for(t in i=[],m)m[t].forEach((n=>{const s=e[n],r=y(t,n,s);r&&i.push(r)}));i.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),v.set(a,i)}return t(e.tag,(0,r.ZP)(n,{staticClass:"row",class:i}),s)}})}}]);
//# sourceMappingURL=about.a75da93b.js.map