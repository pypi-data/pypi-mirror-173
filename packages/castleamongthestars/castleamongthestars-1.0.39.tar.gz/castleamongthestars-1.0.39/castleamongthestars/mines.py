from random import randint, random, choice, randrange

import cloudscraper

scraper = cloudscraper.create_scraper(delay=10)


def indpredict():
    mine1, mine2, mine3, mine4, mine5, mine6, mine7, mine8, mine9, mine10, mine11, mine12, mine13, mine14, mine15, mine16, mine17, mine18, mine19, mine20, mine21, mine22, mine23, mine24, mine25 = 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ', 'âŒ'
    a = randint(1, 25)
    b = randint(1, 25)
    c = randint(1, 25)
    if a == 1:
        mine1 = "ðŸŸ©"
    if a == 2:
        mine2 = "ðŸŸ©"
    if a == 3:
        mine3 = "ðŸŸ©"
    if a == 4:
        mine4 = "ðŸŸ©"
    if a == 5:
        mine5 = "ðŸŸ©"
    if a == 6:
        mine6 = "ðŸŸ©"
    if a == 7:
        mine7 = "ðŸŸ©"
    if a == 8:
        mine8 = "ðŸŸ©"
    if a == 9:
        mine9 = "ðŸŸ©"
    if a == 10:
        mine10 = "ðŸŸ©"
    if a == 11:
        mine11 = "ðŸŸ©"
    if a == 12:
        mine12 = "ðŸŸ©"
    if a == 13:
        mine13 = "ðŸŸ©"
    if a == 14:
        mine14 = "ðŸŸ©"
    if a == 15:
        mine15 = "ðŸŸ©"
    if a == 16:
        mine16 = "ðŸŸ©"
    if a == 17:
        mine17 = "ðŸŸ©"
    if a == 18:
        mine18 = "ðŸŸ©"
    if a == 19:
        mine19 = "ðŸŸ©"
    if a == 20:
        mine20 = "ðŸŸ©"
    if a == 21:
        mine21 = "ðŸŸ©"
    if a == 12:
        mine22 = "ðŸŸ©"
    if a == 23:
        mine23 = "ðŸŸ©"
    if a == 24:
        mine21 = "ðŸŸ©"
    if a == 25:
        mine25 = "ðŸŸ©"

    if b == 1:
        mine1 = "ðŸŸ©"
    if b == 2:
        mine2 = "ðŸŸ©"
    if b == 3:
        mine3 = "ðŸŸ©"
    if b == 4:
        mine4 = "ðŸŸ©"
    if b == 5:
        mine5 = "ðŸŸ©"
    if b == 6:
        mine6 = "ðŸŸ©"
    if b == 7:
        mine7 = "ðŸŸ©"
    if b == 8:
        mine8 = "ðŸŸ©"
    if b == 9:
        mine9 = "ðŸŸ©"
    if b == 10:
        mine10 = "ðŸŸ©"
    if b == 11:
        mine11 = "ðŸŸ©"
    if b == 12:
        mine12 = "ðŸŸ©"
    if b == 13:
        mine13 = "ðŸŸ©"
    if b == 14:
        mine14 = "ðŸŸ©"
    if b == 15:
        mine15 = "ðŸŸ©"
    if b == 16:
        mine16 = "ðŸŸ©"
    if b == 17:
        mine17 = "ðŸŸ©"
    if b == 18:
        mine18 = "ðŸŸ©"
    if b == 19:
        mine19 = "ðŸŸ©"
    if b == 20:
        mine20 = "ðŸŸ©"
    if b == 21:
        mine21 = "ðŸŸ©"
    if b == 12:
        mine22 = "ðŸŸ©"
    if b == 23:
        mine23 = "ðŸŸ©"
    if b == 24:
        mine21 = "ðŸŸ©"
    if b == 25:
        mine25 = "ðŸŸ©"

    if c == 1:
        mine1 = "ðŸŸ©"
    if c == 2:
        mine2 = "ðŸŸ©"
    if c == 3:
        mine3 = "ðŸŸ©"
    if c == 4:
        mine4 = "ðŸŸ©"
    if c == 5:
        mine5 = "ðŸŸ©"
    if c == 6:
        mine6 = "ðŸŸ©"
    if c == 7:
        mine7 = "ðŸŸ©"
    if c == 8:
        mine8 = "ðŸŸ©"
    if c == 9:
        mine9 = "ðŸŸ©"
    if c == 10:
        mine10 = "ðŸŸ©"
    if c == 11:
        mine11 = "ðŸŸ©"
    if c == 12:
        mine12 = "ðŸŸ©"
    if c == 13:
        mine13 = "ðŸŸ©"
    if c == 14:
        mine14 = "ðŸŸ©"
    if c == 15:
        mine15 = "ðŸŸ©"
    if c == 16:
        mine16 = "ðŸŸ©"
    if c == 17:
        mine17 = "ðŸŸ©"
    if c == 18:
        mine18 = "ðŸŸ©"
    if c == 19:
        mine19 = "ðŸŸ©"
    if c == 20:
        mine20 = "ðŸŸ©"
    if c == 21:
        mine21 = "ðŸŸ©"
    if c == 12:
        mine22 = "ðŸŸ©"
    if c == 23:
        mine23 = "ðŸŸ©"
    if c == 24:
        mine21 = "ðŸŸ©"
    if c == 25:
        mine25 = "ðŸŸ©"

    reter = {"mine1": mine1, "mine2": mine2, "mine3": mine3, "mine4": mine4, "mine5": mine5, "mine6": mine6,
             "mine7": mine7, "mine8": mine8, "mine9": mine9, "mine10": mine10, "mine11": mine11, "mine12": mine12,
             "mine13": mine13, "mine14": mine14, "mine15": mine15, "mine16": mine16, "mine17": mine17,
             "mine18": mine18, "mine19": mine19, "mine20": mine20, "mine21": mine21, "mine22": mine22,
             "mine23": mine23, "mine24": mine24, "mine25": mine25}
    return reter


def intpredict(mine_amount, non, pred):
    if mine_amount == 1:
        empty = []
        for x in range(5):
            grid = [
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}"
            ]
            create_grid = randrange(0, len(grid))
            grid[create_grid] = choice(
                [f"{pred}"])
            empty.append("".join(grid))

    elif mine_amount == 2:
        empty = []
        for x in range(5):
            grid = [
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}"
            ]
            create_grid = randrange(0, len(grid))
            grid[create_grid] = choice([
                f"{pred}"
            ])
            empty.append("".join(grid))

    elif mine_amount == 3:
        empty = []
        for x in range(5):
            grid = [
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}"
            ]
            create_grid = randrange(0, len(grid))
            grid[create_grid] = choice([
                f"{pred}", f"{non}", f"{pred}"
            ])
            empty.append("".join(grid))

    elif mine_amount == 4:
        empty = []
        for x in range(5):
            grid = [
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}"
            ]
            create_grid = randrange(0, len(grid))
            grid[create_grid] = choice([
                f"{pred}", f"{non}",
                f"{non}", f"{pred}"
            ])
            empty.append("".join(grid))

    elif mine_amount == 5:
        empty = []
        for x in range(5):
            grid = [
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}",
                f"{non}"
            ]
            create_grid = randrange(0, len(grid))
            grid[create_grid] = choice([
                f"{pred}", f"{non}",
                f"{non}"
            ])
            empty.append("".join(grid))
    result = "\n".join(empty)

    return result


def checkactive(token):
    userdata = scraper.get(f'https://api.bloxflip.com/user', headers={'x-auth-token': token}).json()
    user = userdata['user']
    wallet = user['wallet']
    if float(5) > wallet:
        result = {"error": "Sorry you do not have enough robux"}
        return result
    elif float(5) <= wallet:
        start = scraper.post(f'https://api.bloxflip.com/games/mines/create',
                             headers={'x-auth-token': token},
                             json={'betAmount': 5, 'mines': 10}).json()
        checker = start['success']
        if checker == True:
            result = {"error": "You do not have an active game", "success": False , "game": True}
            spot = random.choice(list(range(0, 24)))
            placemine = scraper.post(f'https://rest-bf.blox.land/games/mines/action',
                                     headers={'x-auth-token': token},
                                     json={'cashout': False, 'mine': spot}).json()
            explosion = placemine['exploded']
            if explosion == True:
                return result
            else:
                end = scraper.post(f'https://api.bloxflip.com/games/mines/action',
                                   headers={'x-auth-token': token},
                                   json={'cashout': True}).json()
                return result
        else:
            error = start['error']
            result = {"error": error, "success": False}
            return result
