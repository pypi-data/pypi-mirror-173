# Install CoastSeg

## Steps

1. Install Anaconda
2. Create conda environment with python version = 3.9
3. Pip install the package

@todo rename beta coastseg package to official package name

## Install CoastSeg with Pip

[PyPi Repo](https://pypi.org/project/coastseg-beta-package/)

- Note: This package is still in beta and being actively developed.

1. Create a conda environment

- We will install the CoastSeg package and its dependencies in this environment.
  > `conda create --name coastseg_pkg python=3.9 -y`

2. Activate your conda environment
   > `conda activate coastseg_pkg`
3. Install geopandas with Conda
   - [Geopandas](https://geopandas.org/en/stable/) has [GDAL](https://gdal.org/) as a dependency so its best to install it with conda.
   - Make sure to install geopandas from the `conda-forge` channel to ensure you get the latest version.
     > `conda install -c conda-forge geopandas -y`
4. Install jupyter with Conda
   > `conda install jupyter -y`
5. Install the coastseg pip package

- `-U` (upgrade flag) this gets the latest release of the CoastSeg package
  > `pip install coastseg-beta-package -U`

### Installation Commands

```python
conda create --name coastseg_pkg python=3. -y
conda activate coastseg_pkg
conda install -c conda-forge geopandas -y
conda install -c conda-forge jupyter -y
pip install coastseg-beta-package -U
```

## Contribution Guide

This guide walks you through how to contribute to the coastseg project.

### Install the Codebase

1. git clone your fork of coastseg onto your local computer
`git clone https://github.com/your-username/CoastSeg.git`

2. Change to the directory containing CoastSeg project just cloned
`cd CoastSeg` 
3. To push your changes to the CoastSeg later on add CoastSeg as an upstream repository:
@todo replace with the official CoastSeg repo
`git remote add upstreamhttps://github.com/2320sharon/CoastSeg/CoastSeg.git`
- upstream, which refers to the CoastSeg repository
- origin, which refers to your personal fork


### Create Development Environment
To correctly create your development environment make sure you run all these commands within the directory where coastseg's source code was installed in. The contents of the directory should be similar to the following:
```
├── CoastSeg
│   ├── Sniffer
│   │   ├── tests                     
|   |   |  |_ test_data
|   |   |_ __init__.py
|   |   |_ conftest.py
|   |   |_ test_sniffer.py
|   | 
│   ├── __init__.py
│   ├── sniffer.py
│   
├── install
|    |_sniffer.yml
├──thumbnails
|    |_ <OTHER THUMBNAILS GENERATED BY SNIFFER>
|
|___data
|    |_ <data downloaded here>
|
├── README.md
├── .github
└── .gitignore
└── pyproject.toml


```

---

1. cd `<directory where you have coastseg's source code install>`
2. Create an Anaconda environment
   `conda create coastseg_dev python = 3.8`
3. Activate coastseg development environment in anaconda
   `conda activate coastseg_dev`
4. Install Geopandas
   `conda install -c conda-forge geopandas -y`
5. Install development dependencies within requirements_dev.txt
   @todo add command to install requirements from dev file here

``6. Pip install coastseg's dependencies using`pip install -e . -v`

- `-e` means create an editable install of the package. This will add the files to the python path on your computer making it possible to find the sub directories of the package.
- `-v` means **verbose**. This will cause pip to print more messages to the console
- `.` means use the current working directory to install
- make sure you run this command in the directory containing the `pyproect.toml` file. Otherwise pip won't know which dependencies to install

## Installations I've tried
```python
conda create --name coastseg_pkg python=3.9 -y
conda activate coastseg_pkg
conda install -c conda-forge geopandas -y
conda install jupyter -y
pip install coastseg-beta-package -U
```
python 3.9 fails
---


```python
conda create --name coastseg_pkg python=3.8 -y
conda activate coastseg_pkg
conda install -c conda-forge geopandas -y
conda install  jupyter -y
pip install coastseg-beta-package -U
```
jupyter won't install. Has conflict due to coming from different channels. Both must come from the same channel
---

```python
conda create --name coastseg_pkg python=3.8 -y
conda activate coastseg_pkg
conda install geopandas -y
conda install  jupyter -y
pip install coastseg-beta-package -U
```
Installed the wrong version of geopandas. We need geopandas 0.0.12 not 0.0.9


```python
conda create --name coastseg_pkg python=3.8 -y
conda activate coastseg_pkg
conda install  -c conda-forge jupyter -y
conda install -c conda-forge geopandas -y
pip install coastseg-beta-package -U
```
Currently testing